{% extends "base.html" %}

{% block title %}{{ page.title }} | {{ config.title }}{% endblock title %}

{% block content %}
<div class="page-wrapper">
    {% if page.toc %}
    <aside class="toc-sidebar">
        <div class="toc-sticky">
            <h3>Table of Contents</h3>
            <ul>
            {% for h1 in page.toc %}
                <li>
                    <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
                    {% if h1.children %}
                    <ul>
                        {% for h2 in h1.children %}
                        <li>
                            <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </li>
            {% endfor %}
            </ul>
        </div>
    </aside>
    {% endif %}

    <article>
        <header class="post-header">
            <h1>{{ page.title }}</h1>
            <div class="meta">
                <time>{{ page.date }}</time>
                {% if page.taxonomies.tags %}
                <ul class="tags">
                    {% for tag in page.taxonomies.tags %}
                    <li><a href="{{ get_taxonomy_url(kind="tags", name=tag) }}">#{{ tag }}</a></li>
                    {% endfor %}
                </ul>
                {% endif %}
            </div>
        </header>

        <div class="post-content">
            {{ page.content | safe }}
        </div>
    </article>
</div>
{% endblock content %}
